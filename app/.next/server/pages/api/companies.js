"use strict";(()=>{var e={};e.id=309,e.ids=[309],e.modules={145:e=>{e.exports=require("next/dist/compiled/next-server/pages-api.runtime.prod.js")},8311:e=>{e.exports=require("node-cron")},661:e=>{e.exports=require("sqlite3")},7773:e=>{e.exports=require("winston")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},9648:e=>{e.exports=import("axios")},5392:(e,t,r)=>{r.r(t),r.d(t,{config:()=>m,default:()=>p,routeModule:()=>f});var i={};r.r(i),r.d(i,{default:()=>d});var a=r(1802),s=r(7153),o=r(6249),n=r(5232),u=r(9508);let l=!1;async function c(){if(!l)try{let{schedulerService:e}=await r.e(971).then(r.bind(r,971)),{logger:t}=await Promise.resolve().then(r.bind(r,9508));t.info("Initializing Bitcoin Treasury Tracker..."),await e.start(),l=!0,t.info("Bitcoin Treasury Tracker initialized successfully")}catch(e){throw console.error("Failed to initialize app:",e),e}}async function d(e,t){if("GET"!==e.method)return t.status(405).json({message:"Method not allowed"});try{await c();let e=await n.l.getTreasuryData(),r={success:!0,data:e,timestamp:new Date().toISOString()};t.json(r)}catch(r){u.logger.error("Error getting companies:",r);let e={success:!1,error:"Failed to fetch companies",timestamp:new Date().toISOString()};t.status(500).json(e)}}let p=(0,o.l)(i,"default"),m=(0,o.l)(i,"config"),f=new a.PagesAPIRouteModule({definition:{kind:s.x.PAGES_API,page:"/api/companies",pathname:"/api/companies",bundlePath:"",filename:""},userland:i})}};var t=require("../../webpack-api-runtime.js");t.C(e);var r=e=>t(t.s=e),i=t.X(0,[479],()=>r(5392));module.exports=i})();